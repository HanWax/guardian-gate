## Codebase Patterns
- TanStack Start dev server runs on port 3000 by default with `npm run dev`
- agent-browser is used for frontend browser testing and verification

---

## 2026-02-05 13:50 - T-002
- Verified dev server starts successfully
- Installed agent-browser globally for browser testing
- Confirmed localhost:3000 loads with GuardianGate title and Hebrew text "שלום עולם"
- Files changed: tasks/prd.json, scripts/compound/progress.txt
- **Learnings for future iterations:**
  - agent-browser must be installed globally first (`npm install -g agent-browser && agent-browser install`)
  - agent-browser snapshot -i shows interactive elements with refs
  - TanStack Start already has Hebrew RTL content working in the current setup
  - Screenshot verification confirms proper page rendering
---

## 2026-02-05 17:32 - T-004
- Configured ESLint with TypeScript and React plugins
- Created eslint.config.js with recommended rules
- Added "lint" script to package.json
- Fixed linting errors:
  - Added React import to NotFound.tsx
  - Removed unused Link import from __root.tsx
- Files changed: package.json, package-lock.json, eslint.config.js, src/components/NotFound.tsx, src/routes/__root.tsx, node_modules/
- **Learnings for future iterations:**
  - ESLint 9+ uses flat config format (eslint.config.js not .eslintrc)
  - React 19 with JSX transform doesn't require React imports in scope, but ESLint still needs them defined
  - Always run both typecheck and lint before committing
  - The project uses @tanstack/react-router for routing
---

## 2026-02-05 17:33 - T-005
- Started development server using `npm run dev`
- Verified server starts without errors and binds to http://localhost:3000/
- Server process is running in background
- Files changed: scripts/compound/prd.json
- **Learnings for future iterations:**
  - Dev server uses Vite and starts quickly (under 2 seconds)
  - Server runs on port 3000 (not the default Vite port 5173)
  - Use `run_in_background: true` for long-running server processes
---
## 2026-02-05 - T-006
- Tested development server page loads in browser
- Verified HTTP 200 response from localhost:3000
- Used agent-browser to open page, wait for networkidle, check console, and capture screenshot
- Console shows only debug/info messages (no fatal errors): vite connection messages and React DevTools info
- Screenshot confirms page renders properly with GuardianGate title and Hebrew text "שלום עולם"
- Files changed: scripts/compound/prd.json, tmp/dev-server-loaded.png
- **Learnings for future iterations:**
  - Server runs on port 3000 (not 5173 as mentioned in acceptance criteria)
  - agent-browser commands: open, wait --load networkidle, console, screenshot
  - TanStack Router indicator appears at bottom right of page
  - Page already displays Hebrew RTL content successfully
  - Background bash tasks need time to start (use sleep before checking server status)
---

## 2026-02-05 - T-007
- Tested hot module replacement (HMR)
- Started dev server on http://localhost:3000
- Modified src/routes/index.tsx to add " - HMR Test!" to Hebrew text
- Browser updated automatically within 3 seconds without manual refresh
- Server logs showed "hmr update" for the modified file
- Screenshots (tmp/hmr-before.png, tmp/hmr-after.png) confirm visual changes
- Reverted test change back to original content
- Files changed: scripts/compound/prd.json, scripts/compound/progress.txt
- **Learnings for future iterations:**
  - Vite HMR works seamlessly with TanStack Start
  - HMR logs appear in dev server output with "[vite] (client) hmr update" messages
  - Changes to component files trigger both client-side HMR and SSR page reload
  - agent-browser screenshot command is perfect for capturing HMR verification
  - Always revert test changes after verification
---

## 2026-02-05 - T-008
- Verified Hebrew RTL configuration in root HTML
- Found RTL already configured in src/routes/__root.tsx
- RootDocument component has <html dir="rtl" lang="he"> attributes
- TypeScript compilation passes with no errors
- Files changed: scripts/compound/prd.json
- **Learnings for future iterations:**
  - TanStack Start uses __root.tsx for root HTML configuration via shellComponent
  - The RootDocument component is the place to configure HTML attributes
  - RTL was set up during initial project creation (likely in templates)
  - Always check existing code before attempting to add features
---

## 2026-02-05 - T-009
- Implemented CSS logical properties for RTL in src/styles/app.css
- Added text-align: start to body element
- Created example utility classes using margin-inline, padding-inline, and border-inline properties
- All logical properties automatically adapt to RTL/LTR text direction
- TypeScript compilation passes with no errors
- Files changed: src/styles/app.css, scripts/compound/prd.json
- **Learnings for future iterations:**
  - Project uses Tailwind CSS v4 (via @import 'tailwindcss' source('../'))
  - Tailwind CSS has built-in RTL support, but logical properties provide additional flexibility
  - CSS logical properties use 'inline-start' (right in RTL) and 'inline-end' (left in RTL)
  - text-align: start is RTL-aware (aligns right in RTL, left in LTR)
  - @layer base in Tailwind allows adding custom base styles
---

## 2026-02-05 - T-010
- Created RTL test page at src/routes/rtl-test.tsx
- Page includes multiple test sections: Hebrew text, navigation buttons, logical properties demo, mixed content, and lists
- Navigation buttons demonstrate RTL flow (הקודם on right, הבא on left)
- Uses border-inline-start and border-inline-end for logical property testing
- TypeScript compilation passes after route types auto-generated by dev server
- Files changed: src/routes/rtl-test.tsx, scripts/compound/prd.json
- **Learnings for future iterations:**
  - TanStack Router auto-generates route types when dev server runs
  - File-based routing: src/routes/rtl-test.tsx creates /rtl-test route
  - Route type errors resolve after running dev server (generates routeTree.gen.ts)
  - Use createFileRoute('/path')() for route definition
  - Tailwind utility classes work seamlessly with RTL (flex, gap, padding)
---

## 2026-02-05 - T-011
- Verified RTL layout in browser using agent-browser
- Tested page at http://localhost:3000/rtl-test
- All RTL features confirmed working:
  - Hebrew text aligns right and flows RTL
  - Navigation buttons correctly positioned (הקודם right, הבא left)
  - Logical properties work (border-inline-start on right, border-inline-end on left)
  - Mixed content displays properly
- No console errors (only vite debug messages and React DevTools info)
- Screenshot saved to tmp/rtl-test.png
- Files changed: tmp/rtl-test.png, scripts/compound/prd.json
- **Learnings for future iterations:**
  - agent-browser workflow: open → wait --load networkidle → screenshot → console
  - Tailwind CSS flex layout automatically adapts to RTL direction
  - border-inline-start/end CSS properties work perfectly for RTL
  - Hebrew text naturally aligns right in RTL context without additional CSS
  - Button order in flex layouts reverses correctly in RTL (last button appears visually first)
---

## 2026-02-05 - T-012
- Verified project folder structure
- All required directories already exist from initial TanStack Start setup:
  - src/routes (for route components)
  - src/components (for reusable components)
  - src/utils (for utility functions)
  - src/types (for TypeScript types)
  - src/styles (for CSS files)
- Additional directories also present: src/lib (library code)
- TypeScript compilation passes with no errors
- Files changed: scripts/compound/prd.json
- **Learnings for future iterations:**
  - TanStack Start template includes well-organized folder structure by default
  - src/lib directory is also created for library/shared code
  - No need to create standard directories manually - template provides them
  - Project follows standard React project conventions
---

## 2026-02-05 - T-013
- Created comprehensive README.md documentation
- Includes all required sections:
  - Project description and features list
  - Getting Started guide with installation and development steps
  - Project structure with folder explanations
  - RTL configuration details (HTML and CSS)
  - Available scripts documentation
  - Development workflow guide
  - Complete tech stack listing
- Files changed: README.md, scripts/compound/prd.json
- **Learnings for future iterations:**
  - Good README should include both "why" (features) and "how" (setup)
  - RTL documentation should explain both the HTML attributes and CSS approach
  - Include links to test pages for verification
  - Document all npm scripts with brief explanations
  - Project structure should show hierarchy and purpose of each directory
---

## 2026-02-05 - T-014
- Created GitHub Actions CI workflow at .github/workflows/ci.yml
- Workflow configuration:
  - Triggers on pull_request and push to main/master
  - Uses ubuntu-latest runner
  - Node.js 20 with npm cache
  - Three quality check steps: install, typecheck, lint
- Valid YAML format
- Files changed: .github/workflows/ci.yml, scripts/compound/prd.json
- **Learnings for future iterations:**
  - GitHub Actions workflows use actions/checkout@v4 for latest checkout
  - actions/setup-node@v4 supports npm caching with cache: 'npm'
  - Standard CI job should verify all local quality checks pass
  - Workflow triggers should include both PR and push to main branches
  - Name each step clearly for easy debugging in CI logs
---

